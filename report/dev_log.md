# Дневник разработки

## 17.05.2025
**Текущие положения:**
**Цель:**
Разработать на Си + OpenGL программу, которая:
- Читает карту из файла (матрица целых чисел).
- Объединяет клетки с одинаковыми числами в отдельные регионы (группы клеток).
- Строит граф смежности между регионами (если регионы соседствуют — между ними ребро).
- Применяет алгоритм раскраски (Welsh–Powell или его упрощение).
- Визуализирует результат: каждая область окрашивается в свой цвет (не более 4).
- Выводит текстово: регион X → цвет (название или номер).
- Использует максимум 4 цвета, иначе сообщает об ошибке раскраски.

**Специфика:**
- Используем массив квадратов, каждая клетка может быть либо пустой, либо регионом с номером.
- Пользовательский интерфейс пока не реализуется — вместо этого используется файл с заданием карты.
- OpenGL визуализирует карту (цвета, номера, границы).
- Алгоритм можно улучшать в следующем семестре, например:
  - Перейти с квадратов на шестиугольники/восьмиугольники.
  - Добавить интерактивное рисование карты.
  - Использовать кэширование или улучшенные эвристики раскраски.

**Формат карты:**
**Группа клеток с одинаковым номером = один регион**
Простой формат файла (матрица):
```
1 1 0 2 2
1 1 0 2 2
0 0 0 2 2
3 3 0 0 0
3 3 3 0 4
```
где:
- Каждое число — это номер региона.
- 0 — пустая клетка.
- Одинаковые числа — один регион.
- Мы автоматически строим граф смежности: если 2 клетки с одинаковыми номерами касаются — это один регион; если разные номера, и клетки соседние по сторонам — значит регионы смежные.

**Алгоритм раскраски: Welsh–Powell**
*улучшенный жадный алгоритм:*
1. Сортирует вершины по убыванию степени (количеству соседей).
2. Проходит по вершинам в этом порядке и даёт минимальный допустимый цвет.

Это даст хороший результат, но быстро работает, в отличие от полного перебора.

**Что реализуем в 3 семестре (улучшения)**
| Улучшение                                            | Обоснование                            |
| ---------------------------------------------------- | -------------------------------------- |
| Перейти с квадратной сетки на шестиугольники         | Эстетика + стратегия-подобная логика   |
| Визуальный редактор карты                            | Повышение интерактивности              |
| Кэширование промежуточных раскрасок                  | Оптимизация                            |
| Попытка минимизировать количество цветов динамически | Переход к более продвинутым алгоритмам |
